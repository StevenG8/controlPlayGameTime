## 1. 分发脚本与打包

- [x] 1.1 在分发流程中提供 `add-autostart.bat`，通过 `schtasks` 创建登录自启动任务
- [x] 1.2 在分发流程中提供 `remove-autostart.bat`，删除对应任务
- [x] 1.3 更新 `build-windows.sh`，构建时自动复制自启动脚本到 `dist/windows-amd64`
- [x] 1.4 更新 README 使用说明，明确通过脚本而非程序命令管理自启动

## 2. CLI 精简

- [x] 2.1 移除 `install-autostart` 命令入口
- [x] 2.2 移除 `remove-autostart` 命令入口
- [x] 2.3 更新 `help` 输出与示例，去除自启动命令描述

## 3. 单实例运行保障

- [x] 3.1 设计并实现单实例锁机制（锁文件或互斥体）
- [x] 3.2 在 `start` 启动路径接入实例锁校验，已有实例时返回明确错误
- [x] 3.3 在正常退出与异常退出路径中验证锁释放和陈旧锁清理策略

## 4. 通知模块与控制器集成

- [x] 4.1 新增 `Notifier` 接口与 Windows 默认实现（首警告、末警告、超限弹窗）
- [x] 4.2 在 `Controller.tick()` 中将现有警告日志分支接入通知调用并保留日志记录
- [x] 4.3 为通知失败场景实现降级日志记录，避免影响主控制循环

## 5. 警告去重与状态持久化

- [x] 5.1 在 `QuotaState` 增加当日阈值触发标记字段（首警告/末警告/超限）
- [x] 5.2 调整阈值判断逻辑，确保每个警告时间点在单日内仅弹窗一次
- [x] 5.3 在每日 `Reset()` 流程中清空阈值触发标记
- [x] 5.4 验证状态文件序列化/反序列化兼容旧数据（新字段默认值正确）

## 6. 测试与验收

- [x] 6.1 为阈值去重逻辑补充单元测试（重复轮询只触发一次、重置后可再次触发）
- [x] 6.2 为单实例机制补充测试（并发启动拒绝第二实例）
- [x] 6.3 为通知调用链增加可测试替身，验证首警告/末警告/超限场景触发行为
- [x] 6.4 手工验证 `add-autostart.bat` / `remove-autostart.bat` 在目标 Windows 环境的执行流程与异常提示
