## 1. CLI 与启动模式扩展

- [x] 1.1 为 `start` 命令增加 `--background` 参数解析并在后台模式下关闭交互输出
- [x] 1.2 增加 `install-autostart` 命令并实现 Windows Task Scheduler 创建逻辑（目标命令为 `game-control start --background`）
- [x] 1.3 增加 `remove-autostart` 命令并实现对应任务删除逻辑
- [x] 1.4 更新 `help` 输出与命令用法说明，覆盖新增命令和参数

## 2. 单实例运行保障

- [x] 2.1 设计并实现单实例锁机制（锁文件或互斥体）
- [x] 2.2 在 `start` 启动路径接入实例锁校验，已有实例时返回明确错误
- [x] 2.3 在正常退出与异常退出路径中验证锁释放和陈旧锁清理策略

## 3. 通知模块与控制器集成

- [x] 3.1 新增 `Notifier` 接口与 Windows 默认实现（首警告、末警告、超限弹窗）
- [x] 3.2 在 `Controller.tick()` 中将现有警告日志分支接入通知调用并保留日志记录
- [x] 3.3 为通知失败场景实现降级日志记录，避免影响主控制循环

## 4. 警告去重与状态持久化

- [x] 4.1 在 `QuotaState` 增加当日阈值触发标记字段（首警告/末警告/超限）
- [x] 4.2 调整阈值判断逻辑，确保每个警告时间点在单日内仅弹窗一次
- [x] 4.3 在每日 `Reset()` 流程中清空阈值触发标记
- [x] 4.4 验证状态文件序列化/反序列化兼容旧数据（新字段默认值正确）

## 5. 测试与验收

- [x] 5.1 为阈值去重逻辑补充单元测试（重复轮询只触发一次、重置后可再次触发）
- [x] 5.2 为单实例机制补充测试（并发启动拒绝第二实例）
- [x] 5.3 为通知调用链增加可测试替身，验证首警告/末警告/超限场景触发行为
- [ ] 5.4 手工验证 Windows 自启动安装、登录触发、卸载流程与异常提示
